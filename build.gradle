buildscript {
    ext.kotlinVersion = "1.2.50"
    ext.objectboxVersion = "1.5.0"

    repositories {
        google()
        jcenter()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:3.1.3"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
        classpath "io.objectbox:objectbox-gradle-plugin:$objectboxVersion"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = "4.5"
}

apply plugin: "com.android.application"
apply plugin: "kotlin-android"
apply plugin: "kotlin-kapt"

android {
    compileSdkVersion 27
    buildToolsVersion "27.0.3"

    defaultConfig {
        applicationId "ru.dyatel.inuyama"
        minSdkVersion 23
        targetSdkVersion 27
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    signingConfigs {
        release {
            storeFile file("xxxxxx")
            storePassword "xxxxxx"
            keyAlias "xxxxxx"
            keyPassword "xxxxxx"
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"

            signingConfig signingConfigs.release
        }
    }

    sourceSets {
        main.java.srcDirs += "src/main/kotlin"
        test.java.srcDirs += "src/test/kotlin"
    }
}

kotlin {
    experimental {
        coroutines "enable"
    }
}

repositories {
    google()
    jcenter()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:0.23.3"

    def kodeinVersion = "5.0.0"
    implementation "org.kodein.di:kodein-di-generic-jvm:$kodeinVersion"
    implementation "org.kodein.di:kodein-di-framework-android:$kodeinVersion"

    def androidSupportVersion = "27.1.1"
    implementation "com.android.support:appcompat-v7:$androidSupportVersion"
    implementation "com.android.support:recyclerview-v7:$androidSupportVersion"
    implementation "com.android.support:cardview-v7:$androidSupportVersion"
    implementation "com.android.support:design:$androidSupportVersion"

    implementation "android.arch.work:work-runtime-ktx:1.0.0-alpha03"

    def ankoVersion = "0.10.5"
    implementation "org.jetbrains.anko:anko-commons:$ankoVersion"
    implementation "org.jetbrains.anko:anko-sdk21:$ankoVersion"
    implementation "org.jetbrains.anko:anko-appcompat-v7:$ankoVersion"
    implementation "org.jetbrains.anko:anko-recyclerview-v7:$ankoVersion"
    implementation "org.jetbrains.anko:anko-cardview-v7:$ankoVersion"
    implementation "org.jetbrains.anko:anko-design:$ankoVersion"
    implementation "org.jetbrains.anko:anko-sqlite:$ankoVersion"

    releaseImplementation "io.objectbox:objectbox-android:$objectboxVersion"
    debugImplementation "io.objectbox:objectbox-android-objectbrowser:$objectboxVersion"

    def magellanVersion = "1.1.0"
    implementation "com.wealthfront:magellan:$magellanVersion"
    implementation "com.wealthfront:magellan-support:$magellanVersion"

    def fastAdapterVersion = "3.2.7"
    implementation "com.mikepenz:fastadapter:$fastAdapterVersion@aar"
    implementation "com.mikepenz:fastadapter-commons:$fastAdapterVersion@aar"
    implementation "com.mikepenz:fastadapter-extensions:$fastAdapterVersion@aar"

    implementation "com.mikepenz:materialize:1.1.2@aar"
    implementation("com.mikepenz:materialdrawer:6.0.8@aar") { transitive = true }
    implementation "com.mikepenz:iconics-core:3.0.4@aar"
    implementation "com.mikepenz:community-material-typeface:2.0.46.1@aar"

    implementation "org.jsoup:jsoup:1.11.3"
    implementation "com.google.code.gson:gson:2.8.5"

    implementation "org.ocpsoft.prettytime:prettytime:4.0.1.Final"

    testImplementation "org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion"
}

apply plugin: "io.objectbox"
